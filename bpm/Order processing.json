{"resourceId":"1","properties":{"process_id":"orderProcessing","name":"Order processing","documentation":"","process_author":"","process_version":"","process_namespace":"http://www.activiti.org/processdef","executionlisteners":"","eventlisteners":"{\"eventListeners\":\"[{\\\"className\\\": \\\"com.haulmont.bpm.core.engine.listener.BpmActivitiListener\\\", \\\"implementation\\\": \\\"com.haulmont.bpm.core.engine.listener.BpmActivitiListener\\\", \\\"event\\\": \\\"TASK_CREATED, TASK_ASSIGNED, PROCESS_COMPLETED, TIMER_FIRED, ACTIVITY_CANCELLED\\\", \\\"events\\\": [{\\\"event\\\": \\\"TASK_CREATED\\\"}, {\\\"event\\\": \\\"TASK_ASSIGNED\\\"}, {\\\"event\\\": \\\"PROCESS_COMPLETED\\\"}, {\\\"event\\\": \\\"TIMER_FIRED\\\"}, {\\\"event\\\": \\\"ACTIVITY_CANCELLED\\\"}]}]\"}","signaldefinitions":"","messagedefinitions":"","procroles":"\"[{\\\"code\\\": \\\"manager\\\", \\\"name\\\": \\\"Manager\\\"}, {\\\"code\\\": \\\"mechanic\\\", \\\"name\\\": \\\"Mechanic\\\"}]\"","localization":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"sid-1842B44D-0F24-4F21-ADD8-A0C1B5C897C6","properties":{"overrideid":"","name":"","documentation":"","executionlisteners":"","initiator":"","startform":{"name":"standardProcForm","caption":"Standard form","params":[{"name":"procActorsVisible","value":"true"}]}},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-0F20287A-4B62-42D9-85A2-46ED70AE9953"}],"bounds":{"lowerRight":{"x":53.94043521743891,"y":66.97021760871944},"upperLeft":{"x":23.94043521743891,"y":36.97021760871944}},"dockers":[]},{"resourceId":"sid-57A1A705-2171-4966-83AC-265FAB6DA2CC","properties":{"overrideid":"","name":"Validation","documentation":"","asynchronousdefinition":"false","exclusivedefinition":"false","executionlisteners":"","multiinstance_type":"None","multiinstance_cardinality":"","multiinstance_collection":"auto_evaluation","multiinstance_variable":"","multiinstance_condition":"","isforcompensation":"false","usertaskassignment":"","duedatedefinition":"","prioritydefinition":"","tasklisteners":"","taskoutcomes":[{"name":"In progress","form":{"name":"standardProcForm","caption":"Standard form","params":[]}},{"name":"Invalid","form":{"name":"standardProcForm","caption":"Standard form","params":[{"name":"commentRequired","value":"true"}]}}],"taskprocrole":"mechanic","claimallowed":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5A5C27CA-7F5B-455A-8745-4D21D5FEFC25"}],"bounds":{"lowerRight":{"x":198.94043521743893,"y":91.97021760871944},"upperLeft":{"x":98.94043521743893,"y":11.970217608719446}},"dockers":[]},{"resourceId":"sid-0F20287A-4B62-42D9-85A2-46ED70AE9953","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":"false","flowoutcome":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-57A1A705-2171-4966-83AC-265FAB6DA2CC"}],"bounds":{"lowerRight":{"x":98.09668521743893,"y":51.97021760871944},"upperLeft":{"x":54.54981021743892,"y":51.97021760871944}},"dockers":[{"x":15,"y":15.000000000000002},{"x":50,"y":39.99999999999999}],"target":{"resourceId":"sid-57A1A705-2171-4966-83AC-265FAB6DA2CC"}},{"resourceId":"sid-65533240-88B0-4E4C-91BC-18CCD92D5925","properties":{"overrideid":"","name":"","documentation":"","asynchronousdefinition":"false","exclusivedefinition":"false","sequencefloworder":{"sequenceFlowOrder":["sid-FE788C8F-2606-43B9-9CD2-FFAF9AD1D24C","sid-E5629433-4AEF-4664-9E16-2769A70E9251"]}},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-E5629433-4AEF-4664-9E16-2769A70E9251"},{"resourceId":"sid-FE788C8F-2606-43B9-9CD2-FFAF9AD1D24C"}],"bounds":{"lowerRight":{"x":303.34478739182805,"y":71.97021760871942},"upperLeft":{"x":263.34478739182805,"y":31.970217608719423}},"dockers":[]},{"resourceId":"sid-5A5C27CA-7F5B-455A-8745-4D21D5FEFC25","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":"false","flowoutcome":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-65533240-88B0-4E4C-91BC-18CCD92D5925"}],"bounds":{"lowerRight":{"x":263.4441753673045,"y":51.97021760871944},"upperLeft":{"x":199.2920332814724,"y":51.97021760871942}},"dockers":[{"x":50,"y":40},{"x":20,"y":20}],"target":{"resourceId":"sid-65533240-88B0-4E4C-91BC-18CCD92D5925"}},{"resourceId":"sid-F5DCFE26-8583-4B60-AD66-DF8060BA425A","properties":{"scriptformat":"groovy","scripttext":"import com.company.workshop.entity.Order\n\ndef em = persistence.getEntityManager()\ndef order = em.find(Order.class, entityId)\norder.setProcessState('Invalid')","overrideid":"","name":"Set \"Invalid\" state","documentation":"","asynchronousdefinition":"false","exclusivedefinition":"false","executionlisteners":"","multiinstance_type":"None","multiinstance_cardinality":"","multiinstance_collection":"auto_evaluation","multiinstance_variable":"","multiinstance_condition":"","isforcompensation":"false"},"stencil":{"id":"ScriptTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-39042A0E-1517-4FBA-8478-E3310A5F1CC6"}],"bounds":{"lowerRight":{"x":499.8461195533807,"y":86.82888513986298},"upperLeft":{"x":371.0767458703031,"y":11.970217608719455}},"dockers":[]},{"resourceId":"sid-9FDC2735-7216-497C-B165-E48939921E80","properties":{"scriptformat":"groovy","scripttext":"import com.company.workshop.entity.Order\n\ndef em = persistence.getEntityManager()\ndef order = em.find(Order.class, entityId)\norder.setProcessState('In progress')","overrideid":"","name":"Set \"In progress\" state","documentation":"","asynchronousdefinition":"false","exclusivedefinition":"false","executionlisteners":"","multiinstance_type":"None","multiinstance_cardinality":"","multiinstance_collection":"auto_evaluation","multiinstance_variable":"","multiinstance_condition":"","isforcompensation":"false"},"stencil":{"id":"ScriptTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-A8692E2C-E25C-42A4-B933-D1ECC66CEEE1"}],"bounds":{"lowerRight":{"x":348.5876567338605,"y":186.13592951915174},"upperLeft":{"x":218.10191804979561,"y":107.7319584784751}},"dockers":[]},{"resourceId":"sid-FE788C8F-2606-43B9-9CD2-FFAF9AD1D24C","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":false,"flowoutcome":{"outcome":"Invalid","taskResourceId":"sid-57A1A705-2171-4966-83AC-265FAB6DA2CC"}},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F5DCFE26-8583-4B60-AD66-DF8060BA425A"}],"bounds":{"lowerRight":{"x":370.49836549296435,"y":52.06613565115859},"upperLeft":{"x":303.7966630313265,"y":50.71523737019793}},"dockers":[{"x":20.5,"y":20.5},{"x":64.38468684153877,"y":37.42933376557176}],"target":{"resourceId":"sid-F5DCFE26-8583-4B60-AD66-DF8060BA425A"}},{"resourceId":"sid-E5629433-4AEF-4664-9E16-2769A70E9251","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":true,"flowoutcome":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-9FDC2735-7216-497C-B165-E48939921E80"}],"bounds":{"lowerRight":{"x":283.7379319289608,"y":107.5580691606638},"upperLeft":{"x":283.5532053546953,"y":72.65814802388121}},"dockers":[{"x":20.5,"y":20.5},{"x":65.24286934203245,"y":39.201985520338326}],"target":{"resourceId":"sid-9FDC2735-7216-497C-B165-E48939921E80"}},{"resourceId":"sid-42C2C8CF-9E80-4F0B-A7A9-AC50A66CFCD8","properties":{"overrideid":"","name":"","documentation":"","executionlisteners":""},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":728.2726213057284,"y":63.39955137429122},"upperLeft":{"x":700.2726213057284,"y":35.39955137429122}},"dockers":[]},{"resourceId":"sid-39042A0E-1517-4FBA-8478-E3310A5F1CC6","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":"false","flowoutcome":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-42C2C8CF-9E80-4F0B-A7A9-AC50A66CFCD8"}],"bounds":{"lowerRight":{"x":700.2033468403899,"y":49.39955137429122},"upperLeft":{"x":500.7186988330892,"y":49.39955137429122}},"dockers":[{"x":64.3846868415388,"y":37.42933376557176},{"x":14,"y":14}],"target":{"resourceId":"sid-42C2C8CF-9E80-4F0B-A7A9-AC50A66CFCD8"}},{"resourceId":"sid-14E86854-E8A9-4E16-923E-6229B63EBD3B","properties":{"overrideid":"","name":"Progress","documentation":"","asynchronousdefinition":"false","exclusivedefinition":"false","executionlisteners":"","multiinstance_type":"None","multiinstance_cardinality":"","multiinstance_collection":"auto_evaluation","multiinstance_variable":"","multiinstance_condition":"","isforcompensation":"false","usertaskassignment":"","duedatedefinition":"","prioritydefinition":"","tasklisteners":"","taskoutcomes":[{"name":"Done","form":{"name":"standardProcForm","caption":"Standard form","params":[{"name":"commentRequired","value":"true"}]}}],"taskprocrole":"mechanic","claimallowed":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-B66039EB-BAB0-4383-9EEB-38F19E1F6977"}],"bounds":{"lowerRight":{"x":333.34478739182805,"y":307.43413456566964},"upperLeft":{"x":233.34478739182808,"y":227.43413456566967}},"dockers":[]},{"resourceId":"sid-A8692E2C-E25C-42A4-B933-D1ECC66CEEE1","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":"false","flowoutcome":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-14E86854-E8A9-4E16-923E-6229B63EBD3B"}],"bounds":{"lowerRight":{"x":283.34478739182805,"y":226.89500953591997},"upperLeft":{"x":283.34478739182805,"y":186.53166128975954}},"dockers":[{"x":65.24286934203248,"y":39.201985520338326},{"x":49.999999999999986,"y":39.999999999999986}],"target":{"resourceId":"sid-14E86854-E8A9-4E16-923E-6229B63EBD3B"}},{"resourceId":"sid-B92F87B3-3D2F-4E38-9F2E-9EA3E4FF1CE1","properties":{"scriptformat":"groovy","scripttext":"import com.company.workshop.entity.Order\n\ndef em = persistence.getEntityManager()\ndef order = em.find(Order.class, entityId)\norder.setProcessState('Done')","overrideid":"","name":"Set \"Done\" state","documentation":"","asynchronousdefinition":"false","exclusivedefinition":"false","executionlisteners":"","multiinstance_type":"None","multiinstance_cardinality":"","multiinstance_collection":"auto_evaluation","multiinstance_variable":"","multiinstance_condition":"","isforcompensation":"false"},"stencil":{"id":"ScriptTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-83C71E81-DF35-4A96-9507-3235A70E8678"}],"bounds":{"lowerRight":{"x":479.891179087523,"y":307.43413456566964},"upperLeft":{"x":379.891179087523,"y":227.43413456566967}},"dockers":[]},{"resourceId":"sid-B66039EB-BAB0-4383-9EEB-38F19E1F6977","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":"false","flowoutcome":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B92F87B3-3D2F-4E38-9F2E-9EA3E4FF1CE1"}],"bounds":{"lowerRight":{"x":379.6607506272504,"y":267.43413456566964},"upperLeft":{"x":333.57521585210065,"y":267.43413456566964}},"dockers":[{"x":50,"y":40},{"x":50,"y":39.999999999999986}],"target":{"resourceId":"sid-B92F87B3-3D2F-4E38-9F2E-9EA3E4FF1CE1"}},{"resourceId":"sid-1E46E2D6-A42B-4779-82EA-9ABA1A0FBDAC","properties":{"overrideid":"","name":"Delivery","documentation":"","asynchronousdefinition":"false","exclusivedefinition":"false","executionlisteners":"","multiinstance_type":"None","multiinstance_cardinality":"","multiinstance_collection":"auto_evaluation","multiinstance_variable":"","multiinstance_condition":"","isforcompensation":"false","usertaskassignment":"","duedatedefinition":"","prioritydefinition":"","tasklisteners":"","taskoutcomes":[{"name":"Close","form":{"name":"standardProcForm","caption":"Standard form","params":[]}},{"name":"Incomplete","form":{"name":"standardProcForm","caption":"Standard form","params":[{"name":"commentRequired","value":"true"}]}}],"taskprocrole":"manager","claimallowed":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-25F32236-7549-4C99-ADE5-8765997C4098"}],"bounds":{"lowerRight":{"x":614.7193571749366,"y":307.43413456566964},"upperLeft":{"x":514.7193571749366,"y":227.43413456566967}},"dockers":[]},{"resourceId":"sid-D4BCC139-1F72-47BB-A306-1D2B321525E9","properties":{"overrideid":"","name":"","documentation":"","asynchronousdefinition":"false","exclusivedefinition":"false","sequencefloworder":{"sequenceFlowOrder":["sid-EAF8EE89-DDF9-4D82-A75D-73CF74707B78","sid-ED387AE0-6F75-4064-8935-A439B82C527F"]}},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-EAF8EE89-DDF9-4D82-A75D-73CF74707B78"},{"resourceId":"sid-C62C4A5A-AA57-4885-A659-3EE86A64722F"}],"bounds":{"lowerRight":{"x":734.2726213057284,"y":287.43413456566964},"upperLeft":{"x":694.2726213057284,"y":247.43413456566967}},"dockers":[]},{"resourceId":"sid-9F6A64CD-20AB-4747-BECB-0E28FDCB285C","properties":{"overrideid":"","name":"Set \"Incomplete\" state","documentation":"","asynchronousdefinition":"false","exclusivedefinition":"false","executionlisteners":"","multiinstance_type":"None","multiinstance_cardinality":"","multiinstance_collection":"auto_evaluation","multiinstance_variable":"","multiinstance_condition":"","isforcompensation":"false","servicetaskclass":"","servicetaskexpression":"${workshop_OrderProcessHelper.updateState(entityId, 'Incomplete')}","servicetaskdelegateexpression":"","servicetaskfields":"","servicetaskresultvariable":""},"stencil":{"id":"ServiceTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-05DD0CC1-69D3-412A-A863-4AC75F4A062F"}],"bounds":{"lowerRight":{"x":333.34478739182805,"y":439.10652826158366},"upperLeft":{"x":233.34478739182808,"y":359.10652826158366}},"dockers":[]},{"resourceId":"sid-05DD0CC1-69D3-412A-A863-4AC75F4A062F","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":"false","flowoutcome":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-14E86854-E8A9-4E16-923E-6229B63EBD3B"}],"bounds":{"lowerRight":{"x":283.34478739182805,"y":359.01628638310916},"upperLeft":{"x":283.34478739182805,"y":307.52437644414414}},"dockers":[{"x":49.999999999999986,"y":40.00000000000003},{"x":49.999999999999986,"y":39.999999999999986}],"target":{"resourceId":"sid-14E86854-E8A9-4E16-923E-6229B63EBD3B"}},{"resourceId":"sid-25F32236-7549-4C99-ADE5-8765997C4098","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":"false","flowoutcome":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-D4BCC139-1F72-47BB-A306-1D2B321525E9"}],"bounds":{"lowerRight":{"x":694.0356678957448,"y":267.8315304905398},"upperLeft":{"x":615.5088235603968,"y":267.44298864079946}},"dockers":[{"x":99,"y":39.99999999999997},{"x":20.5,"y":20.499999999999986}],"target":{"resourceId":"sid-D4BCC139-1F72-47BB-A306-1D2B321525E9"}},{"resourceId":"sid-83C71E81-DF35-4A96-9507-3235A70E8678","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":"false","flowoutcome":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-1E46E2D6-A42B-4779-82EA-9ABA1A0FBDAC"}],"bounds":{"lowerRight":{"x":514.2121355334644,"y":267.43413456566964},"upperLeft":{"x":480.39840072899517,"y":267.43413456566964}},"dockers":[{"x":49.999999999999986,"y":39.999999999999986},{"x":50,"y":39.999999999999986}],"target":{"resourceId":"sid-1E46E2D6-A42B-4779-82EA-9ABA1A0FBDAC"}},{"resourceId":"sid-B72F2866-80BE-49A8-8DAC-170E72375342","properties":{"overrideid":"","name":"Set Closed","servicetaskresultvariable":"","workshop_setorderstate-entityid":"entityId","workshop_setorderstate-state":"Closed"},"stencil":{"id":"workshop_SetOrderState"},"childShapes":[],"outgoing":[{"resourceId":"sid-B5B709C5-6776-48CC-849A-729D627FF9E9"}],"bounds":{"lowerRight":{"x":764.2726213057284,"y":186.93394399881342},"upperLeft":{"x":664.2726213057284,"y":106.93394399881342}},"dockers":[],"custom":{"type":"serviceTask","beanName":"workshop_OrderProcessHelper","methodName":"updateState","methodArgs":[{"propertyPackageName":"workshop_setorderstate-entityidpackage","type":"java.util.UUID"},{"propertyPackageName":"workshop_setorderstate-statepackage","type":"java.lang.String"}]}},{"resourceId":"sid-EAF8EE89-DDF9-4D82-A75D-73CF74707B78","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":false,"flowoutcome":{"outcome":"Incomplete","taskResourceId":"sid-1E46E2D6-A42B-4779-82EA-9ABA1A0FBDAC"}},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-9F6A64CD-20AB-4747-BECB-0E28FDCB285C"}],"bounds":{"lowerRight":{"x":714.7726213057284,"y":399.10652826158366},"upperLeft":{"x":334.06010419050017,"y":288.40503675490686}},"dockers":[{"x":20.5,"y":20.499999999999986},{"x":714.7726213057284,"y":399.10652826158366},{"x":49.999999999999986,"y":40}],"target":{"resourceId":"sid-9F6A64CD-20AB-4747-BECB-0E28FDCB285C"}},{"resourceId":"sid-B5B709C5-6776-48CC-849A-729D627FF9E9","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":"false","flowoutcome":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-42C2C8CF-9E80-4F0B-A7A9-AC50A66CFCD8"}],"bounds":{"lowerRight":{"x":714.2726213057284,"y":106.31059699510129},"upperLeft":{"x":714.2726213057284,"y":64.11532533711465}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-42C2C8CF-9E80-4F0B-A7A9-AC50A66CFCD8"}},{"resourceId":"sid-C62C4A5A-AA57-4885-A659-3EE86A64722F","properties":{"overrideid":"","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":"","defaultflow":true,"flowoutcome":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B72F2866-80BE-49A8-8DAC-170E72375342"}],"bounds":{"lowerRight":{"x":714.6864578661105,"y":247.08254933832674},"upperLeft":{"x":714.4408159953464,"y":187.63712299103116}},"dockers":[{"x":20.5,"y":20.499999999999986},{"x":50,"y":40}],"target":{"resourceId":"sid-B72F2866-80BE-49A8-8DAC-170E72375342"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}